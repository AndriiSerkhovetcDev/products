"use strict";(self.webpackChunkproduct_list_front=self.webpackChunkproduct_list_front||[]).push([[607],{8607:(P,l,i)=>{i.r(l),i.d(l,{ProductListComponent:()=>f});var t=i(3020),c=i(4755),s=i(2314),m=i(5855),a=i(7579),v=i(2722),p=i(4876);let d=(()=>{class n{constructor(e,o){this.productService=e,this.route=o,this.name="",this.price="",this.description="",this.imgUrl="",this.id="",this.elementIndex=0,this.removeClick=new t.vpe,this.destroy$=new a.x}onRemoveProduct(e,o){this.productService.deleteProduct(e).pipe((0,v.R)(this.destroy$)).subscribe(()=>{this.removeClick.emit(o)})}onProductDetails(e){this.route.navigate([`edit/${e}`],{state:{id:e}})}ngOnDestroy(){this.destroy$.next(null),this.destroy$.complete()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(s.M),t.Y36(p.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-card"]],inputs:{name:"name",price:"price",description:"description",imgUrl:"imgUrl",id:"id",elementIndex:"elementIndex"},outputs:{removeClick:"removeClick"},standalone:!0,features:[t.jDz],decls:14,vars:4,consts:[[1,"card"],["alt","Product Image",1,"card-img-top",3,"src"],[1,"card-body","d-flex","flex-column"],[1,"card-title"],[1,"card-text"],[1,"d-flex","justify-content-sm-between"],[1,"btn","btn-primary","mr-auto",3,"click"],[1,"btn","btn-danger","ml-auto",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"img",1),t.TgZ(2,"div",2)(3,"h5",3),t._uU(4),t.qZA(),t.TgZ(5,"p",4),t._uU(6),t.qZA(),t.TgZ(7,"p",4),t._uU(8),t.qZA(),t.TgZ(9,"div",5)(10,"a",6),t.NdJ("click",function(){return o.onProductDetails(o.id)}),t._uU(11,"Details"),t.qZA(),t.TgZ(12,"a",7),t.NdJ("click",function(){return o.onRemoveProduct(o.id,o.elementIndex)}),t._uU(13,"Delete"),t.qZA()()()()),2&e&&(t.xp6(1),t.Q6J("src",o.imgUrl,t.LSH),t.xp6(3),t.Oqu(o.name),t.xp6(2),t.Oqu(o.description),t.xp6(2),t.hij("Price: $",o.price,""))},dependencies:[c.ez]}),n})();var g=i(3144);function _(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",6)(1,"app-product-card",7),t.NdJ("removeClick",function(u){t.CHM(e);const h=t.oxw(2);return t.KtG(h.onRemoveProduct(u))}),t.qZA()()}if(2&n){const e=r.$implicit,o=r.index;t.xp6(1),t.Q6J("name",e.name)("price",e.price)("description",e.description)("imgUrl",e.imagePath)("id",e._id)("elementIndex",o)}}function C(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"h1"),t._uU(4,"Product list"),t.qZA(),t.TgZ(5,"button",3),t.NdJ("click",function(){t.CHM(e);const u=t.oxw();return t.KtG(u.onAddProduct())}),t._uU(6," Add Product "),t.qZA()(),t.TgZ(7,"div",4),t.YNc(8,_,2,6,"div",5),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(8),t.Q6J("ngForOf",e.products())("ngForTrackBy",e.trackByMethod)}}let f=(()=>{class n{constructor(e,o){this.productService=e,this.route=o,this.products=(0,t.tdS)([]),this.getProducts()}ngOnInit(){}getProducts(){this.productService.getProducts().pipe((0,m.sL)()).subscribe(e=>{this.products.set(e)})}onRemoveProduct(e){this.products.mutate(o=>o.splice(e,1))}trackByMethod(e,o){return o._id}onAddProduct(){this.route.navigate(["/add"])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(s.M),t.Y36(p.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-list"]],standalone:!0,features:[t._Bn([s.M]),t.jDz],decls:1,vars:1,consts:[[4,"ngIf"],[1,"container","py-5"],[1,"d-flex","justify-content-sm-between"],[1,"btn","btn-outline-success","btn-sm",3,"click"],[1,"row"],["class","col-md-4 col-lg-3 mb-4",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-md-4","col-lg-3","mb-4"],[3,"name","price","description","imgUrl","id","elementIndex","removeClick"]],template:function(e,o){1&e&&t.YNc(0,C,9,2,"div",0),2&e&&t.Q6J("ngIf",o.products())},dependencies:[c.ez,c.sg,c.O5,d,g.JF]}),n})()},2722:(P,l,i)=>{i.d(l,{R:()=>a});var t=i(4482),c=i(5403),s=i(8421),m=i(5032);function a(v){return(0,t.e)((p,d)=>{(0,s.Xf)(v).subscribe((0,c.x)(d,()=>d.complete(),m.Z)),!d.closed&&p.subscribe(d)})}}}]);